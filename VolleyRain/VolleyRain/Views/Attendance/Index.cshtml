@model VolleyRain.Models.AttendanceMatrix

@{
    ViewBag.Title = "Index";
}

<table class="table table-condensed">
    <thead>
        <tr>
            <th>User</th>

            @foreach (var item in Model.Events) { 
            
                <th>@Html.DisplayFor(modelItem => item.Name)</th>
                
            }

        </tr>
    </thead>

    @foreach (var user in Model.Users) { 
    
        <tr>

            <td>@Html.DisplayFor(model => user.Username)</td>

            @foreach (var item in Model.Events) {

                var attendanceType = Model.GetAttendanceFor(user, item);
              
                <td>@Html.DisplayFor(modelItem => attendanceType.Name)</td>
                
            }

        </tr>
        
    }

    <tfoot>
        <tr>
            <th>Total</th>

            @foreach (var item in Model.Events) { 
            
                <th>@Model.GetAttendeesFor(item)</th>
                
            }

        </tr>
    </tfoot>

</table>
